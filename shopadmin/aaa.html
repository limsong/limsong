<html xmlns="http://www.phpernote.com/javascript-function/61.html">

<head>

    <meta content="text/html; charset=utf-8" http-equiv=content-type>

    <meta name=author content="Laruence(www.laruence.com)">

    <title>即时显示上传缩略图</title>

</head>

<body style="text-align:center;">

<table height="55">

    <tr>

        <td class="Tright"><img id="viewImg" src="" width="50" height="50"/></td>

        <td width="65%">头像上传：<input id="viewFiles" name ="headImage" type="file" style="width:100%"/></td>

        <td width="10%">

        	

        </td>

    </tr>

</table>



<script type="text/javascript">



(function () {

var viewFiles = document.getElementById("viewFiles");

var viewImg = document.getElementById("viewImg");

function viewFile (file) {

//通过file.size可以取得图片大小

var reader = new FileReader();

reader.onload = function( evt ){

viewImg.src = evt.target.result;

}

reader.readAsDataURL(file);

}

viewFiles.addEventListener("change", function () {

//通过 this.files 取到 FileList ，这里只有一个

viewFile(this.files[0]);

}, false);

})();

</script>

</body>

</html>